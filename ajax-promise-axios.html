<html>
    <head>
        <title>Learning Ajax, Promises and Axios</title>
        <meta charset="UTF-8">
    </head>

    <body>
        <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
        <script>
            //.-*-.-*-.- AJAX -.*-.-*-.-*
            var xhr = new XMLHttpRequest();

            xhr.open('GET', 'https://api.github.com/users/diego3g');
            xhr.send(null);

            xhr.onreadystatechange = function(){
                if(xhr.readyState === 4){
                    console.log(JSON.parse(xhr.responseText));
                }
            }

            //.-*-.-*-.- PROMISES -.*-.-*-.-*
            var minhaPromise = function(){
                return new Promise(function(resolve, reject){
                    var xhr = new XMLHttpRequest();
                    xhr.open('GET', 'https://api.github.com/users/diego3g');
                    xhr.send(null);

                    xhr.onreadystatechange = function(){
                        if(xhr.readyState === 4){
                            if(xhr.status === 200){
                                resolve(JSON.parse(xhr.responseText));
                            }else{
                                reject('Erro na requisição');
                            }
                        }
                    }
                });
            }

            minhaPromise()
                .then(function(response){
                    console.log(response);
                })
                .catch(function(error){
                    console.warn(error);
                });

            //.-*-.-*-.- AXIOS -.*-.-*-.-*
            axios.get('https://api.github.com/users/PethersonML')
                .then(function(response){
                    console.log(response);
                })
                .catch(function(error){
                    console.warn(error);
                });
        </script>
    </body>
</html>